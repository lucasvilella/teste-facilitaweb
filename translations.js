// translations.js

const translations = {
    // --- PORTUGUÊS (BRASIL) ---
    'pt': {
        // GLOBAL
        'nav_categories': 'Categorias', 'nav_popular': 'Populares',
        'footer_slogan': 'Acesse mais de 50 ferramentas gratuitas.<br>Simplificando o complexo.',
        'btn_calc': 'Calcular', 'btn_clear': 'LIMPAR',
        'related_title': 'Relacionados', 'ad_label': 'Publicidade',
        'legal_title': 'Legal', 'contact_title': 'Contato',
        'search_placeholder': 'Busque por Rescisão, Dias Úteis, IMC...',
        
        // HOME - HERO
        'hero_title_1': 'Tudo o que você precisa', 
        'hero_title_2': 'em um único lugar.',
        'hero_subtitle': 'Calculadoras trabalhistas, financeiras, de saúde e muito mais.<br>Ferramentas gratuitas para simplificar o seu dia a dia.',
        'section_niches': 'Navegue por Categorias',
        'feat_1_title': 'Privacidade Absoluta', 'feat_1_desc': 'Seus dados financeiros não saem do seu dispositivo.',
        'feat_2_title': 'Velocidade Extrema', 'feat_2_desc': 'Sem loading. Resultados aparecem enquanto você digita.',
        'cta_button': 'Começar a Calcular',
        'why_label': 'Por que usar o FacilitaWeb?',
        'why_title_1': 'Calculadoras precisas,', 'why_title_2': 'resultados imediatos.',
        'why_desc': 'Esqueça planilhas complexas ou sites cheios de propaganda. Nossa plataforma centraliza todas as ferramentas que você precisa.',

        // HOME - CARDS
        'card_labor_title': 'Trabalhista', 'card_labor_desc': 'Rescisão, Férias e FGTS.',
        'card_math_title': 'Matemática', 'card_math_desc': 'Regra de 3, Porcentagem.',
        'card_calc_title': 'Calculadoras', 'card_calc_desc': 'Padrão, Científica.',
        'card_finance_title': 'Financeiro', 'card_finance_desc': 'Juros, Câmbio.',
        'card_dates_title': 'Datas', 'card_dates_desc': 'Dias úteis, Prazos.',
        'card_luck_title': 'Sorte', 'card_luck_desc': 'Palpites, Loterias.',
        'card_health_title': 'Saúde', 'card_health_desc': 'IMC, Calorias.',
        'card_vehicle_title': 'Veículos', 'card_vehicle_desc': 'Combustível, FIPE.',
        'card_dev_title': 'Texto e Dev', 'card_dev_desc': 'Senhas, JSON.',
        'card_home_title': 'Casa', 'card_home_desc': 'Churrasco, Obras.',

        // REGRA DE TRÊS
        'rule3_title': 'Regra de Três Simples',
        'rule3_subtitle': 'Cálculo Automático',
        'rule3_bread': 'Matemática',
        'rule3_label_a': 'Valor A', 'rule3_label_b': 'Valor B', 'rule3_label_c': 'Valor C',
        'rule3_result': 'Resultado (X)',
        'rule3_is_to': 'está para', 'rule3_as': 'Assim como',
        'rule3_seo_title': 'Entenda a Lógica',
        'rule3_seo_desc': 'Esta calculadora utiliza a proporcionalidade direta. A fórmula é:',
        'rule3_ex_title': 'Exemplo Prático:',
        'rule3_ex_desc': 'Se 2 kg custam R$ 60,00, quanto custarão 5 kg? O cálculo será: (60 * 5) / 2 = 150.'
    },

    // --- INGLÊS ---
    'en': {
        // GLOBAL
        'nav_categories': 'Categories', 'nav_popular': 'Popular',
        'footer_slogan': 'Access over 50 free tools.<br>Simplifying the complex.',
        'btn_calc': 'Calculate', 'btn_clear': 'CLEAR',
        'related_title': 'Related', 'ad_label': 'Advertisement',
        'legal_title': 'Legal', 'contact_title': 'Contact',
        'search_placeholder': 'Search for Salary, Work Days, BMI...',

        // HOME - HERO
        'hero_title_1': 'Everything you need', 'hero_title_2': 'in one place.',
        'hero_subtitle': 'Labor, financial, health calculators and more.<br>Free tools to simplify your daily life.',
        'section_niches': 'Browse by Category',
        'feat_1_title': 'Absolute Privacy', 'feat_1_desc': 'Your financial data never leaves your device.',
        'feat_2_title': 'Extreme Speed', 'feat_2_desc': 'No loading. Results appear as you type.',
        'cta_button': 'Start Calculating',
        'why_label': 'Why use FacilitaWeb?',
        'why_title_1': 'Precise calculators,', 'why_title_2': 'immediate results.',
        'why_desc': 'Forget complex spreadsheets. Our platform centralizes all the tools you need.',

        // HOME - CARDS
        'card_labor_title': 'Labor', 'card_labor_desc': 'Termination, Vacation.',
        'card_math_title': 'Math', 'card_math_desc': 'Rule of 3, Percentage.',
        'card_calc_title': 'Calculators', 'card_calc_desc': 'Standard, Scientific.',
        'card_finance_title': 'Financial', 'card_finance_desc': 'Interest, Exchange.',
        'card_dates_title': 'Dates', 'card_dates_desc': 'Work days, Deadlines.',
        'card_luck_title': 'Luck', 'card_luck_desc': 'Lottery Picks.',
        'card_health_title': 'Health', 'card_health_desc': 'BMI, Calories.',
        'card_vehicle_title': 'Vehicles', 'card_vehicle_desc': 'Fuel, Trip Cost.',
        'card_dev_title': 'Text & Dev', 'card_dev_desc': 'Passwords, JSON.',
        'card_home_title': 'Home', 'card_home_desc': 'BBQ, Renovation.',

        // RULE OF THREE
        'rule3_title': 'Simple Rule of Three',
        'rule3_subtitle': 'Automatic Calculation',
        'rule3_bread': 'Math',
        'rule3_label_a': 'Value A', 'rule3_label_b': 'Value B', 'rule3_label_c': 'Value C',
        'rule3_result': 'Result (X)',
        'rule3_is_to': 'is to', 'rule3_as': 'As',
        'rule3_seo_title': 'Understand the Logic',
        'rule3_seo_desc': 'This calculator uses direct proportionality. The formula is:',
        'rule3_ex_title': 'Practical Example:',
        'rule3_ex_desc': 'If 2 kg costs $60.00, how much will 5 kg cost? Calculation: (60 * 5) / 2 = 150.'
    },

    // --- ESPANHOL ---
    'es': {
        // GLOBAL
        'nav_categories': 'Categorías', 'nav_popular': 'Populares',
        'footer_slogan': 'Accede a más de 50 herramientas gratuitas.<br>Simplificando lo complejo.',
        'btn_calc': 'Calcular', 'btn_clear': 'LIMPIAR',
        'related_title': 'Relacionados', 'ad_label': 'Publicidad',
        'legal_title': 'Legal', 'contact_title': 'Contacto',
        'search_placeholder': 'Buscar Salario, Días Laborables, IMC...',

        // HOME - HERO
        'hero_title_1': 'Todo lo que necesitas', 'hero_title_2': 'en un solo lugar.',
        'hero_subtitle': 'Calculadoras laborales, financieras, de salud y más.<br>Herramientas gratuitas para simplificar tu día.',
        'section_niches': 'Navegar por Categorías',
        'feat_1_title': 'Privacidad Absoluta', 'feat_1_desc': 'Tus datos no salen de tu dispositivo.',
        'feat_2_title': 'Velocidad Extrema', 'feat_2_desc': 'Sin carga. Los resultados aparecen mientras escribes.',
        'cta_button': 'Empezar a Calcular',
        'why_label': '¿Por qué usar FacilitaWeb?',
        'why_title_1': 'Calculadoras precisas,', 'why_title_2': 'resultados inmediatos.',
        'why_desc': 'Olvídate de hojas de cálculo complejas. Nuestra plataforma centraliza todas las herramientas.',

        // HOME - CARDS
        'card_labor_title': 'Laboral', 'card_labor_desc': 'Despido, Vacaciones.',
        'card_math_title': 'Matemáticas', 'card_math_desc': 'Regla de 3, Porcentaje.',
        'card_calc_title': 'Calculadoras', 'card_calc_desc': 'Estándar, Científica.',
        'card_finance_title': 'Financiero', 'card_finance_desc': 'Intereses, Cambio.',
        'card_dates_title': 'Fechas', 'card_dates_desc': 'Días hábiles, Plazos.',
        'card_luck_title': 'Suerte', 'card_luck_desc': 'Lotería y Números.',
        'card_health_title': 'Salud', 'card_health_desc': 'IMC, Calorías.',
        'card_vehicle_title': 'Vehículos', 'card_vehicle_desc': 'Combustible, Viaje.',
        'card_dev_title': 'Texto y Dev', 'card_dev_desc': 'Contraseñas, JSON.',
        'card_home_title': 'Hogar', 'card_home_desc': 'Barbacoa, Reformas.',

        // RULE OF THREE
        'rule3_title': 'Regla de Tres Simple',
        'rule3_subtitle': 'Cálculo Automático',
        'rule3_bread': 'Matemáticas',
        'rule3_label_a': 'Valor A', 'rule3_label_b': 'Valor B', 'rule3_label_c': 'Valor C',
        'rule3_result': 'Resultado (X)',
        'rule3_is_to': 'es a', 'rule3_as': 'Como',
        'rule3_seo_title': 'Entiende la Lógica',
        'rule3_seo_desc': 'Esta calculadora utiliza la proporcionalidad directa. La fórmula es:',
        'rule3_ex_title': 'Ejemplo Práctico:',
        'rule3_ex_desc': 'Si 2 kg cuestan $ 60,00, ¿cuánto costarán 5 kg? El cálculo será: (60 * 5) / 2 = 150.'
    },

    // --- FRANCÊS ---
    'fr': {
        'nav_categories': 'Catégories', 'nav_popular': 'Populaire',
        'footer_slogan': 'Accédez à plus de 50 outils gratuits.<br>Simplifier le complexe.',
        'btn_clear': 'EFFACER', 'related_title': 'Associé', 'ad_label': 'Publicité',
        'legal_title': 'Mentions Légales', 'contact_title': 'Contact',
        'search_placeholder': 'Rechercher Salaires, IMC...',
        'hero_title_1': 'Tout ce dont vous', 'hero_title_2': 'avez besoin ici.',
        'hero_subtitle': 'Calculatrices financières, santé et plus.<br>Outils gratuits pour simplifier votre quotidien.',
        'section_niches': 'Parcourir par Catégorie',
        'card_labor_title': 'Travail', 'card_labor_desc': 'Licenciement, Salaire.',
        'card_math_title': 'Maths', 'card_math_desc': 'Règle de 3, Pourcentage.',
        'card_calc_title': 'Calculatrices', 'card_calc_desc': 'Standard, Scientifique.',
        'card_finance_title': 'Finance', 'card_finance_desc': 'Intérêts, Change.',
        'card_dates_title': 'Dates', 'card_dates_desc': 'Jours ouvrés, Délais.',
        'card_luck_title': 'Chance', 'card_luck_desc': 'Loterie et Numéros.',
        'card_health_title': 'Santé', 'card_health_desc': 'IMC, Calories.',
        'card_vehicle_title': 'Véhicules', 'card_vehicle_desc': 'Carburant, Voyage.',
        'card_dev_title': 'Texte/Dev', 'card_dev_desc': 'Mots de passe, JSON.',
        'card_home_title': 'Maison', 'card_home_desc': 'Barbecue, Peinture.',
        'why_label': 'Pourquoi FacilitaWeb?',
        'why_title_1': 'Calculatrices précises,', 'why_title_2': 'résultats immédiats.',
        'why_desc': 'Oubliez les feuilles de calcul complexes.',
        'feat_1_title': 'Confidentialité', 'feat_1_desc': 'Vos données restent sur votre appareil.',
        'feat_2_title': 'Vitesse', 'feat_2_desc': 'Résultats instantanés.',
        'cta_button': 'Commencer',
        'rule3_title': 'Règle de Trois',
        'rule3_subtitle': 'Calcul Automatique',
        'rule3_bread': 'Mathématiques',
        'rule3_label_a': 'Valeur A', 'rule3_label_b': 'Valeur B', 'rule3_label_c': 'Valeur C',
        'rule3_result': 'Résultat (X)',
        'rule3_is_to': 'est à', 'rule3_as': 'Comme',
        'rule3_seo_title': 'Comprendre la Logique',
        'rule3_seo_desc': 'Cette calculatrice utilise la proportionnalité directe.',
        'rule3_ex_title': 'Exemple Pratique :',
        'rule3_ex_desc': 'Si 2 kg coûtent 60 €, combien coûteront 5 kg ?'
    },

    // --- ITALIANO ---
    'it': {
        'nav_categories': 'Categorie', 'nav_popular': 'Popolari',
        'footer_slogan': 'Accedi a oltre 50 strumenti gratuiti.<br>Semplificare il complesso.',
        'btn_clear': 'PULIRE', 'related_title': 'Correlati', 'ad_label': 'Pubblicità',
        'legal_title': 'Legale', 'contact_title': 'Contatto',
        'search_placeholder': 'Cerca Stipendio, IMC...',
        'hero_title_1': 'Tutto ciò di cui', 'hero_title_2': 'hai bisogno.',
        'hero_subtitle': 'Calcolatrici finanziarie, salute e altro.<br>Strumenti gratuiti per semplificare la tua giornata.',
        'section_niches': 'Naviga per Categorie',
        'card_labor_title': 'Lavoro', 'card_labor_desc': 'Licenziamento, Ferie.',
        'card_math_title': 'Matematica', 'card_math_desc': 'Regola del 3, Percentuale.',
        'card_calc_title': 'Calcolatrici', 'card_calc_desc': 'Standard, Scientifica.',
        'card_finance_title': 'Finanza', 'card_finance_desc': 'Interessi, Cambio.',
        'card_dates_title': 'Date', 'card_dates_desc': 'Giorni lavorativi, Scadenze.',
        'card_luck_title': 'Fortuna', 'card_luck_desc': 'Lotteria e Numeri.',
        'card_health_title': 'Salute', 'card_health_desc': 'IMC, Calorie.',
        'card_vehicle_title': 'Veicoli', 'card_vehicle_desc': 'Carburante, Viaggio.',
        'card_dev_title': 'Testo/Dev', 'card_dev_desc': 'Password, JSON.',
        'card_home_title': 'Casa', 'card_home_desc': 'Barbecue, Pittura.',
        'why_label': 'Perché FacilitaWeb?',
        'why_title_1': 'Calcolatrici precise,', 'why_title_2': 'risultati immediati.',
        'why_desc': 'Dimentica fogli di calcolo complessi.',
        'feat_1_title': 'Privacy', 'feat_1_desc': 'I tuoi dati restano nel dispositivo.',
        'feat_2_title': 'Velocità', 'feat_2_desc': 'Risultati istantanei.',
        'cta_button': 'Inizia',
        'rule3_title': 'Regola del Tre',
        'rule3_subtitle': 'Calcolo Automatico',
        'rule3_bread': 'Matematica',
        'rule3_label_a': 'Valore A', 'rule3_label_b': 'Valore B', 'rule3_label_c': 'Valore C',
        'rule3_result': 'Risultato (X)',
        'rule3_is_to': 'sta a', 'rule3_as': 'Come',
        'rule3_seo_title': 'Capire la Logica',
        'rule3_seo_desc': 'Questa calcolatrice usa la proporzionalità diretta.',
        'rule3_ex_title': 'Esempio Pratico:',
        'rule3_ex_desc': 'Se 2 kg costano € 60,00, quanto costeranno 5 kg?'
    },

    // --- ALEMÃO ---
    'de': {
        'nav_categories': 'Kategorien', 'nav_popular': 'Beliebt',
        'footer_slogan': 'Zugriff auf über 50 kostenlose Tools.<br>Das Komplexe vereinfachen.',
        'btn_clear': 'LÖSCHEN', 'related_title': 'Verwandt', 'ad_label': 'Werbung',
        'legal_title': 'Rechtliches', 'contact_title': 'Kontakt',
        'search_placeholder': 'Suche nach Gehalt, BMI...',
        'hero_title_1': 'Alles was Sie', 'hero_title_2': 'brauchen.',
        'hero_subtitle': 'Finanz-, Gesundheitsrechner und mehr.<br>Kostenlose Tools für Ihren Alltag.',
        'section_niches': 'Kategorien durchsuchen',
        'card_labor_title': 'Arbeit', 'card_labor_desc': 'Kündigung, Urlaub.',
        'card_math_title': 'Mathe', 'card_math_desc': 'Dreisatz, Prozent.',
        'card_calc_title': 'Rechner', 'card_calc_desc': 'Standard, Wissenschaftlich.',
        'card_finance_title': 'Finanzen', 'card_finance_desc': 'Zinsen, Wechselkurs.',
        'card_dates_title': 'Daten', 'card_dates_desc': 'Arbeitstage, Fristen.',
        'card_luck_title': 'Glück', 'card_luck_desc': 'Lotterie und Zahlen.',
        'card_health_title': 'Gesundheit', 'card_health_desc': 'BMI, Kalorien.',
        'card_vehicle_title': 'Fahrzeuge', 'card_vehicle_desc': 'Kraftstoff, Reise.',
        'card_dev_title': 'Text/Dev', 'card_dev_desc': 'Passwörter, JSON.',
        'card_home_title': 'Zuhause', 'card_home_desc': 'Grillen, Renovierung.',
        'why_label': 'Warum FacilitaWeb nutzen?',
        'why_title_1': 'Präzise Rechner,', 'why_title_2': 'sofortige Ergebnisse.',
        'why_desc': 'Vergessen Sie komplexe Tabellen.',
        'feat_1_title': 'Privatsphäre', 'feat_1_desc': 'Ihre Daten bleiben privat.',
        'feat_2_title': 'Geschwindigkeit', 'feat_2_desc': 'Ergebnisse sofort.',
        'cta_button': 'Starten',
        'rule3_title': 'Dreisatz',
        'rule3_subtitle': 'Automatische Berechnung',
        'rule3_bread': 'Mathematik',
        'rule3_label_a': 'Wert A', 'rule3_label_b': 'Wert B', 'rule3_label_c': 'Wert C',
        'rule3_result': 'Ergebnis (X)',
        'rule3_is_to': 'verhält sich zu', 'rule3_as': 'Wie',
        'rule3_seo_title': 'Die Logik verstehen',
        'rule3_seo_desc': 'Dieser Rechner verwendet die direkte Proportionalität.',
        'rule3_ex_title': 'Praktisches Beispiel:',
        'rule3_ex_desc': 'Wenn 2 kg 60 € kosten, wie viel kosten 5 kg?'
    },

    // --- PT-PORTUGAL ---
    'pt_pt': {
        'nav_categories': 'Categorias', 'nav_popular': 'Populares',
        'footer_slogan': 'Aceda a mais de 50 ferramentas gratuitas.<br>A simplificar o complexo.',
        'btn_clear': 'LIMPAR', 'related_title': 'Relacionados', 'ad_label': 'Publicidade',
        'legal_title': 'Legal', 'contact_title': 'Contacto',
        'search_placeholder': 'Pesquise por Salário, IMC...',
        'hero_title_1': 'Tudo o que precisa', 'hero_title_2': 'num só lugar.',
        'hero_subtitle': 'Calculadoras laborais, financeiras e muito mais.<br>Ferramentas gratuitas para simplificar o dia.',
        'section_niches': 'Navegar por Categorias',
        'card_labor_title': 'Laboral', 'card_labor_desc': 'Rescisão, Férias.',
        'card_math_title': 'Matemática', 'card_math_desc': 'Regra de 3, Percentagem.',
        'card_calc_title': 'Calculadoras', 'card_calc_desc': 'Padrão, Científica.',
        'card_finance_title': 'Financeiro', 'card_finance_desc': 'Juros, Câmbio.',
        'card_dates_title': 'Datas', 'card_dates_desc': 'Dias úteis, Prazos.',
        'card_luck_title': 'Sorte', 'card_luck_desc': 'Lotarias e Números.',
        'card_health_title': 'Saúde', 'card_health_desc': 'IMC, Calorias.',
        'card_vehicle_title': 'Veículos', 'card_vehicle_desc': 'Combustível, Viagem.',
        'card_dev_title': 'Texto/Dev', 'card_dev_desc': 'Senhas, JSON.',
        'card_home_title': 'Casa', 'card_home_desc': 'Churrasco, Obras.',
        'why_label': 'Porquê FacilitaWeb?',
        'why_title_1': 'Calculadoras precisas,', 'why_title_2': 'resultados imediatos.',
        'why_desc': 'Esqueça folhas de cálculo complexas.',
        'feat_1_title': 'Privacidade', 'feat_1_desc': 'Os dados não saem do dispositivo.',
        'feat_2_title': 'Velocidade', 'feat_2_desc': 'Resultados instantâneos.',
        'cta_button': 'Começar',
        'rule3_title': 'Regra de Três Simples',
        'rule3_subtitle': 'Cálculo Automático',
        'rule3_bread': 'Matemática',
        'rule3_label_a': 'Valor A', 'rule3_label_b': 'Valor B', 'rule3_label_c': 'Valor C',
        'rule3_result': 'Resultado (X)',
        'rule3_is_to': 'está para', 'rule3_as': 'Assim como',
        'rule3_seo_title': 'Entenda a Lógica',
        'rule3_seo_desc': 'Esta calculadora utiliza a proporcionalidade direta.',
        'rule3_ex_title': 'Exemplo Prático:',
        'rule3_ex_desc': 'Se 2 kg custam € 60,00, quanto custarão 5 kg?'
    }
};

const flags = {
    'pt': { class: 'fi-br', code: 'BR' }, 
    'en': { class: 'fi-us', code: 'EN' }, 
    'es': { class: 'fi-es', code: 'ES' },
    'fr': { class: 'fi-fr', code: 'FR' },
    'it': { class: 'fi-it', code: 'IT' },
    'pt_pt': { class: 'fi-pt', code: 'PT' },
    'de': { class: 'fi-de', code: 'DE' }
};

function changeLanguage(lang) {
    // 1. Salva a escolha
    localStorage.setItem('facilita_lang', lang);

    // 2. Atualiza Bandeira
    const flagInfo = flags[lang];
    if(flagInfo) {
        const flagSpan = document.getElementById('current-flag');
        const codeSpan = document.getElementById('current-lang-code');
        if(flagSpan && codeSpan) {
            flagSpan.className = 'fi ' + flagInfo.class;
            codeSpan.innerText = flagInfo.code;
        }
    }

    // 3. Aplica Traduções
    const texts = translations[lang];
    if (texts) {
        // Textos normais e HTML
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (texts[key]) el.innerHTML = texts[key];
        });
        // Placeholders
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (texts[key]) el.placeholder = texts[key];
        });
        // Titles (Tooltips)
        document.querySelectorAll('[data-i18n-title]').forEach(el => {
            const key = el.getAttribute('data-i18n-title');
            if (texts[key]) el.title = texts[key];
        });
    }
}

// Inicialização Automática
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('facilita_lang') || 'pt';
    changeLanguage(savedLang);
});